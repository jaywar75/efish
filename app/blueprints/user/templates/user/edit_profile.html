<!-- app/templates/user/edit_profile.html -->

{% extends 'base.html' %}
{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>Edit Your Profile</h1>
    <p class="text-muted mb-4">
      Update only the information you are comfortable sharing.
      We use this data solely for authentication, personalization, or required communications.
    </p>

    <!-- Example: if using WTForms, youâ€™d do something like: -->
    <!-- <form method="POST" action="{{ url_for('user.edit_profile') }}"> -->
    <!-- But below is a raw HTML example with name="..." fields. -->
    <form method="POST" action="{{ url_for('user.edit_profile') }}">
        <!-- CSRF token can go here if using Flask-WTF -->
        {{ form.csrf_token }}

        <!-- Username (read-only or updatable as business logic dictates) -->
        <div class="mb-3">
            <label for="username" class="form-label"><strong>Username</strong></label>
            <input
                type="text"
                class="form-control"
                id="username"
                name="username"
                value="{{ user.username }}"
                readonly
            />
        </div>

        <!-- Email (contact) -->
        <div class="mb-3">
            <label for="email" class="form-label"><strong>Email</strong></label>
            <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                value="{{ user.email }}"
                required
            />
        </div>

        <!-- Optional Fields -->
        <div class="mb-3">
            <label for="first_name" class="form-label"><strong>First Name</strong></label>
            <input
                type="text"
                class="form-control"
                id="first_name"
                name="first_name"
                value="{{ user.first_name }}"
                placeholder="(Optional)"
            />
        </div>

        <div class="mb-3">
            <label for="last_name" class="form-label"><strong>Last Name</strong></label>
            <input
                type="text"
                class="form-control"
                id="last_name"
                name="last_name"
                value="{{ user.last_name }}"
                placeholder="(Optional)"
            />
        </div>

        <div class="mb-3">
            <label for="phone" class="form-label"><strong>Phone Number</strong></label>
            <input
                type="tel"
                class="form-control"
                id="phone"
                name="phone"
                value="{{ user.phone }}"
                placeholder="(Optional, e.g. for 2FA/SMS)"
            />
        </div>

        <div class="mb-3">
            <label for="time_zone" class="form-label"><strong>Time Zone</strong></label>
            <select name="time_zone" id="time_zone" class="form-select">
                <option value="">--Select Time Zone--</option>
                <!-- Add common or relevant time zones here -->
                <option value="UTC"
                    {% if user.time_zone == 'UTC' %}selected{% endif %}>
                    UTC
                </option>
                <option value="America/New_York"
                    {% if user.time_zone == 'America/New_York' %}selected{% endif %}>
                    America/New_York
                </option>
                <option value="Europe/London"
                    {% if user.time_zone == 'Europe/London' %}selected{% endif %}>
                    Europe/London
                </option>
                <!-- etc. -->
            </select>
        </div>

        <!-- About Me / Bio -->
        <div class="mb-3">
            <label for="about_me" class="form-label"><strong>About Me</strong></label>
            <textarea
                class="form-control"
                id="about_me"
                name="about_me"
                rows="3"
                placeholder="(Optional)"
            >{{ user.about_me }}</textarea>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-success">
            <i class="fas fa-save"></i> Save Changes
        </button>

        <!-- Cancel / Back to Profile link -->
        <a href="{{ url_for('user.view_profile') }}" class="btn btn-secondary ms-2">
            <i class="fas fa-undo-alt"></i> Cancel
        </a>
    </form>

    <!-- Optional: Another data usage notice or disclaimers. -->
    <div class="alert alert-warning mt-4" role="alert">
        <strong>Note:</strong>
        We do not share your information with third parties
        without explicit consent. For details, read our
        <a href="#" target="_blank">Privacy Policy</a>.
    </div>
</div>
{% endblock %}