<!-- app/templates/home.html -->

{% extends "base.html" %}

{% block title %}Dashboard  - efish{% endblock %}

{% block content %}
    <!-- Welcome Section -->
    <section class="mb-5">
        <div class="card shadow-sm">
            <div class="card-body">
                <h2 class="card-title mb-3">Welcome to efish</h2>
                <p class="card-text">
                    efish is your ultimate task management solution designed to enhance your productivity and streamline your workflow.
                    Manage your tasks efficiently, track your progress, and stay updated with the latest industry trends and company news.
                </p>
            </div>
        </div>
    </section>

    <div class="row">
        <!-- Recent Tasks Section -->
        <div class="col-lg-8 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Recent Tasks</h5>
                    {% if recent_tasks %}
                        <ul class="list-group list-group-flush">
                            {% for task in recent_tasks %}
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div>
                                        <strong>{{ task.title }}</strong>
                                        <br>
                                        {% if task.created_at %}
                                            <small class="text-muted">Created on {{ task.created_at.strftime('%Y-%m-%d %H:%M') }}</small>
                                        {% else %}
                                            <small class="text-muted">Creation date not available</small>
                                        {% endif %}
                                    </div>
                                    <span class="badge bg-secondary">{{ task.status }}</span>
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-center">No recent tasks found.</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Number of Tasks Widget -->
        <div class="col-lg-4 mb-4">
            <div class="card text-white bg-success shadow-sm">
                <div class="card-body d-flex align-items-center justify-content-between">
                    <div>
                        <h5 class="card-title">Total Tasks</h5>
                        <h3 class="card-text">{{ total_tasks }}</h3>
                    </div>
                    <div>
                        <i class="bi bi-list-task display-4"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Task Button on Dashboard -->
    <div class="d-flex justify-content-end mb-4">
        <a href="{{ url_for('tasks.add_task') }}" class="btn-add-task"
           data-bs-toggle="tooltip"
           data-bs-placement="top"
           title="Add New Task"
           aria-label="Add New Task">
             <i class="bi bi-plus-lg"></i> Add Task
        </a>
    </div>

    <!-- Updates Section -->
    <section class="mb-5">
        <div class="card shadow-sm">
            <div class="card-body">
                <h2 class="card-title mb-4">Updates</h2>
                <div class="accordion" id="updatesAccordion">
                    <!-- Product Updates -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingProduct">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseProduct" aria-expanded="false" aria-controls="collapseProduct">
                                <i class="bi bi-box-seam me-2"></i> Product Updates
                            </button>
                        </h2>
                        <div id="collapseProduct" class="accordion-collapse collapse" aria-labelledby="headingProduct" data-bs-parent="#updatesAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>Introduced a new task prioritization feature to help you focus on what matters most.</li>
                                    <li>Enhanced the user interface for a more intuitive task management experience.</li>
                                    <li>Integrated calendar sync to align your tasks with your schedule seamlessly.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Industry News -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingIndustry">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseIndustry" aria-expanded="false" aria-controls="collapseIndustry">
                                <i class="bi bi-graph-up me-2"></i> Industry News
                            </button>
                        </h2>
                        <div id="collapseIndustry" class="accordion-collapse collapse" aria-labelledby="headingIndustry" data-bs-parent="#updatesAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>The task management industry is witnessing a surge in AI-driven solutions.</li>
                                    <li>Remote work continues to influence how teams collaborate and manage tasks.</li>
                                    <li>Security enhancements are becoming paramount in task management platforms.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Company News -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingCompany">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCompany" aria-expanded="false" aria-controls="collapseCompany">
                                <i class="bi bi-building me-2"></i> Company News
                            </button>
                        </h2>
                        <div id="collapseCompany" class="accordion-collapse collapse" aria-labelledby="headingCompany" data-bs-parent="#updatesAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>efish by vuluru, inc has expanded its team with talented developers and designers.</li>
                                    <li>We're launching a mobile app to manage your tasks on the go.</li>
                                    <li>efish has been featured in TechCrunch as a leading task management tool.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}